import hashlib

class Transaction:
    def __init__(self, sender_pubkey, receiver_pubkey, amount, signature):
        self.sender = sender_pubkey
        self.receiver = receiver_pubkey
        self.amount = amount
        self.signature = signature
        self.txid = None  # Will be generated by quantum_hash

def create_transaction(sender, receiver, amount, signature):
    if not sender or not receiver:
        raise ValueError("Sender and receiver cannot be empty")
    if amount <= 0:
        raise ValueError("Transaction amount must be positive")
    if not signature:
        raise ValueError("Transaction must be signed")
    return {
        'sender': sender,
        'receiver': receiver,
        'amount': amount,
        'signature': signature
    }

def serialize(transaction):
    return f"{transaction['sender']}{transaction['receiver']}{transaction['amount']}{transaction['signature']}"
